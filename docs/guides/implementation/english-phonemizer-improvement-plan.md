# 英語音素化精度向上計画

## 概要
現在のSimpleLTSPhonemizerは60-70%の精度ですが、商用利用可能なリソースを使用して85-90%まで向上させる計画です。

## 現状の課題
1. **辞書カバレッジ不足** - CMU辞書は基本実装のみ
2. **不規則動詞未対応** - ルールベースの限界
3. **固有名詞の扱い** - 人名・地名の音素化が弱い
4. **ストレスマーク欠如** - 韻律情報が不足

## 改善案

### 1. CMU Pronouncing Dictionary完全統合（最優先）
**ライセンス**: パブリックドメイン（商用利用可）
**精度向上**: 70% → 85%

```csharp
// 実装例
public class EnhancedCMUDictionary : CMUDictionary
{
    // 134,000語以上の完全版辞書
    // ストレスマーク付き（0=無強勢、1=第一強勢、2=第二強勢）
    // 複数発音のサポート
}
```

**必要な作業**:
- CMU辞書の最新版（cmudict-0.7b）をダウンロード
- 効率的なインメモリ検索構造（Trie）の実装
- 複数発音の優先順位付け

### 2. NETSPEAK辞書の追加（オプション）
**ライセンス**: GPL互換だが個別使用可
**精度向上**: +5%（固有名詞）

### 3. Letter-to-Sound改善
**手法**: 機械学習ベースのG2P

#### a) Sequitur G2P移植
**ライセンス**: GPL（プロセス分離で回避可能）
**精度**: 90%以上

#### b) 独自のルールベース拡張
```csharp
public class ImprovedLTSRules
{
    // コンテキスト依存ルール
    // 例: "tion" → [ʃən], "sion" → [ʒən]
    // 接頭辞・接尾辞パターン
    // 音節境界の検出
}
```

### 4. 形態素解析の追加
**目的**: 複合語・派生語の正確な音素化

```csharp
public class MorphemeAnalyzer
{
    // 語幹抽出（Porter Stemmer - BSD）
    // 接辞分離
    // 複合語分割
}
```

### 5. コンテキスト認識
```csharp
public class ContextAwarePhonemizer
{
    // 品詞タグ付け（簡易版）
    // 文脈による発音選択
    // 例: "read" (現在形) vs "read" (過去形)
}
```

## 実装優先順位

### Phase 1: CMU辞書完全版（1週間）
1. 辞書ファイルの組み込み（約3MB）
2. 高速検索アルゴリズム実装
3. フォールバック機構の改善

### Phase 2: LTSルール拡張（2週間）
1. 頻出パターンのルール化
2. 例外辞書の作成
3. テストスイートの拡充

### Phase 3: 高度な機能（オプション）
1. 形態素解析
2. コンテキスト認識
3. 韻律予測

## 期待される成果

| 改善項目 | 現在 | 目標 | 手法 |
|---------|------|------|------|
| 一般単語 | 70% | 90% | CMU辞書完全版 |
| 固有名詞 | 40% | 70% | 拡張辞書 |
| 新語・造語 | 50% | 80% | 改善LTS |
| 全体精度 | 60-70% | 85-90% | 統合アプローチ |

## メモリ使用量
- 現在: 約500KB（最小辞書）
- 改善後: 約5-8MB（完全辞書+ルール）

## パフォーマンス
- 現在: 1ms/単語
- 目標: 2ms/単語（辞書検索含む）

## 代替案：Flite統合
**ライセンス**: MIT互換
**精度**: 90%以上
**サイズ**: 約10MB

Fliteは高精度ですが、ネイティブライブラリが必要なため、純C#実装を優先します。

## まとめ
CMU辞書の完全統合とLTSルールの改善により、ライセンス問題なく英語音素化を85-90%の精度まで向上できます。これはOpenJTalkの日本語精度（95%+）に近づく実用的なレベルです。