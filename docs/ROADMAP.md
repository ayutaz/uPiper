# uPiper Implementation Roadmap

## 概要

このドキュメントは、uPiper（Unity Piper TTS Plugin）の実装ロードマップです。
Phase 1の実装進捗と今後の計画を管理します。

## Phase 1: Windows/Linux/macOS 基盤実装（計22人日）

### 現在の進捗
- **完了**: 18/22人日（81.8%）
- **残り**: 4人日

### 完了タスク
- ✅ 1.1 Core API - インターフェース設計（1人日）
- ✅ 1.3.1 Core API ユニットテスト（1人日）
- ✅ 1.4 音素化システム - インターフェース（1.5人日）
- ✅ 1.5 音素化システム - キャッシュ実装（2人日）
- ✅ 1.6 音素化システム - テスト（1.5人日）
- ✅ 1.7 OpenJTalk ネイティブライブラリ（4人日）
- ✅ 1.8 P/Invoke バインディング（2人日）
- ✅ 1.9 Unity.InferenceEngine 音声合成（3人日）
- ✅ 1.10 OpenJTalk統合による日本語発音改善（2人日）

### 残りタスク
- 🚧 1.2 Core API - 実装（3人日）
  - 1.2.1 PiperConfig バリデーション実装（0.5人日）
  - 1.2.2 PiperTTS 基本構造実装（1人日）
  - 1.2.3 PiperTTS 非同期初期化実装（1人日）
  - 1.2.4 PiperTTS 音声生成スタブ実装（0.5人日）
- 🚧 1.3.2 PiperTTS 初期化テスト（0.5人日）
- 🚧 1.3.3 PiperTTS 音声生成テスト（0.5人日）

### Phase 1.12: IL2CPPサポート（2人日）- NEW!

#### 1.12.1 IL2CPP互換性検証（0.5人日）
- **作業内容**:
  - P/Invoke宣言の確認
  - マーシャリング属性の検証
  - AOT制約の確認
- **成果物**: IL2CPP互換性レポート
- **完了条件**: 非互換箇所の特定

#### 1.12.2 IL2CPPビルド設定（0.5人日）
- **作業内容**:
  - Player Settings設定
  - ストリッピングレベル調整
  - link.xml作成
- **成果物**: link.xml、ビルド設定ドキュメント
- **完了条件**: IL2CPPビルド成功

#### 1.12.3 IL2CPP固有の対応（0.5人日）
- **作業内容**:
  - AOT属性追加
  - 型保持設定
  - ジェネリック型の具体化
- **成果物**: 修正されたソースコード
- **完了条件**: ランタイムエラーなし

#### 1.12.4 IL2CPPパフォーマンステスト（0.5人日）
- **作業内容**:
  - Mono vs IL2CPP比較
  - メモリ使用量測定
  - 起動時間測定
- **成果物**: パフォーマンス比較レポート
- **完了条件**: パフォーマンス基準達成

## 今後のフェーズ

### Phase 2: Android実装（15人日）
- Android NDKによるネイティブビルド
- JNIを使用したUnity統合
- モバイル向け最適化

### Phase 3: WebGL実装（10人日）
- Emscriptenビルド
- WebAssembly最適化
- ブラウザ互換性対応

### Phase 4: iOS実装（10人日）
- Xcodeプロジェクト設定
- Objective-C++ブリッジ
- App Store要件対応

### Phase 5: エディタツール（10人日）
- カスタムインスペクター
- 音声プレビュー機能
- デバッグツール

### Phase 6: 多言語サポート（15人日）
- eSpeak-NG統合
- 言語切り替えシステム
- 国際化対応

### Phase 7: 最適化と品質保証（10人日）
- パフォーマンス最適化
- 自動テスト拡充
- ドキュメント完成